@page
@model G1Food_Cashier.Pages.IndexModel
@{
    ViewData["Title"] = "Dashboard";
}

<head>
    <link rel="stylesheet" href="~/css/style.css" asp-append-version="true" />
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            @if(Model.Orders != null)
            {
                @foreach(var item in Model.Orders)
                {
                    <div class="col-xl-4 col-md-12 mb-4">
                        <div class="card border-left-main shadow h-100 py-2">
                            <div class="card-body-cashier">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="px-2 py-1">
                                            <div class="d-flex">
                                                <div class="col-md-2 text-xs font-weight-bold text-dark mb-1 p-0">
                                                    ID:
                                                </div>
                                                <div class="col-md-10 text-xs text-dark p-0">
                                                    @item.Id
                                                </div>
                                            </div>
                                            <div class="d-flex">
                                                <div class="col-md-2 text-xs font-weight-bold text-dark mb-1 p-0">
                                                    Tên:
                                                </div>
                                                <div class="col-md-10 text-xs text-dark mb-1 p-0">
                                                    @item.Username
                                                </div>
                                            </div>
                                            <div class="d-flex">
                                                <div class="col-md-3 text-xs font-weight-bold text-dark mb-1 p-0">
                                                    Ghi chú:
                                                </div>
                                                <div class="col-md-9 text-xs text-dark mb-1 p-0">
                                                    @item.Note
                                                </div>
                                            </div>
                                            <div class="d-flex">
                                                <div class="col-md-4 text-xs font-weight-bold text-dark mb-1 p-0">
                                                    Mã giảm giá:
                                                </div>
                                                <div class="col-md-8 text-xs text-dark mb-1 p-0">
                                                    @item.SalePercent %
                                                </div>
                                            </div>
                                        </div>
                                        @{
                                            int itemCount = 0;
                                        }

                                        @foreach (var detail in item.Details)
                                        {
                                            itemCount++;
                                            bool isOdd = itemCount % 2 != 0; 

                                            <div class="@(isOdd ? "background-primary" : "") border-radius-1">
                                                <div class="px-2 py-1">
                                                    <div class="d-flex">
                                                        <div class="col-md-10 text-xs font-weight-bold text-dark mb-1 p-0">
                                                            @detail.ProductName
                                                        </div>
                                                        <div class="col-md-2 text-xs font-weight-bold text-dark mb-1 p-0 text-right">
                                                            @detail.Quantity
                                                        </div>
                                                    </div>
                                                    <div class="d-flex">
                                                        <div class="col-md-3 text-xs text-dark mt-note mb-1 p-0">
                                                            Ghi chú:
                                                        </div>
                                                        <div class="col-md-9 text-xs text-dark font-italic mt-note mb-1 p-0">
                                                            @detail.Note
                                                        </div>
                                                    </div>
                                                    <div class="text-xs text-dark font-weight-bold mb-1 p-0 mt-note text-right">
                                                        @detail.Price VND
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                        
                                        <div class="px-2 py-1">
                                            <div class="d-flex">
                                                <div class="col-md-4 text-xs font-weight-bold text-dark mb-1 p-0">
                                                    Tổng giá gốc:
                                                </div>
                                                <div class="col-md-8 text-xs text-dark mb-1 p-0 text-right">
                                                    100.000vnd
                                                </div>
                                            </div>
                                            <div class="d-flex">
                                                <div class="col-md-4 text-xs font-weight-bold text-dark mb-1 p-0">
                                                    Giá giảm:
                                                </div>
                                                <div class="col-md-8 text-xs text-dark mb-1 p-0 text-right">
                                                    99.000vnd
                                                </div>
                                            </div>
                                            <div class="d-flex">
                                                <div class="col-md-4 text-xs font-weight-bold text-dark mb-1 p-0">
                                                    Thành tiền:
                                                </div>
                                                <div class="col-md-8 text-xs font-weight-bold text-dark mb-1 p-0 text-right">
                                                    1.000vnd
                                                </div>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-center">
                                            <div class="py-1">
                                                <button class="btn sm">Từ chối</button>
                                            </div>
                                            <div class="py-1">
                                                <button class="btn sm bg-success">Xác nhận</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
        </div>
    </div>

</body>
